package com.bluros.battery;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.util.AttributeSet;
import android.widget.ImageView;
import android.widget.RelativeLayout;

public class Battery
  extends RelativeLayout
{
  int mBatteryLevel;
  Context context;
  
  public Battery(Context context, final AttributeSet paramAttributeSet)
  {
    super(paramContext, paramAttributeSet);
    paramAttributeSet = new ImageView(context);
    addView(paramAttributeSet);
    paramContext.registerReceiver(new BroadcastReceiver()new IntentFilter
    {
      public void onReceive(Context paramAnonymousContext, Intent paramAnonymousIntent)
      {
        int i = 0;
        Battery.this.mBatteryLevel = paramAnonymousIntent.getIntExtra("level", 0);
        paramAttributeSet.setImageLevel(Battery.this.mBatteryLevel);
        int j = paramAnonymousIntent.getIntExtra("status", 0);
        if ((j != 2) && (j != 5)) {}
        while (i != 0)
        {
          paramAttributeSet.setImageLevel(Battery.this.mBatteryLevel);
          paramAttributeSet.setImageResource(R.drawable.stat_sys_battery);
          return;
          i = 1;
        }
        paramAttributeSet.setImageResource(R.drawable.stat_sys_battery_charge);
      }
    }, new IntentFilter("android.intent.action.BATTERY_CHANGED"));
  }
}
